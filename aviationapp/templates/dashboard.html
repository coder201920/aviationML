<!DOCTYPE html>
<html>
    <head>
        <title>Dashboard</title>
        <!-- JQuery Library-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.js"></script>  
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.js"></script>  
        <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/themes/ui-lightness/jquery-ui.css" rel="stylesheet" type="text/css" />  
        <!-- Bootstrap Library-->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        <!-- Foundations 5 Stylesheet-->
        <link href="static/css/foundation.css" type="text/css" rel="stylesheet" media="screen" />
        <!-- Normalize-->
        <link href="static/css/normalize.css" type="text/css" rel="stylesheet" media="screen" />
        <!-- Source Sans Pro Google Web Font-->
        <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,400italic,600italic,700italic&subset=latin,vietnamese,latin-ext' rel='stylesheet' type='text/css'>
        <!-- Font Awesome Web Font Icons-->
        <link href="static/css/font-awesome.min.css" type="text/css" rel="stylesheet" media="screen" />
        <!-- General Stylesheet-->
        <link href="static/css/style.css" type="text/css" rel="stylesheet" media="screen" />
        <!-- Modernizr v2.7.1 -->
        <script src="static/js/modernizr.js" type="text/javascript"> </script>
        <!-- Foundations 5 -->
        <script src="static/js/foundation.min.js" type="text/javascript"> </script>
        <!-- Caroufredsel jQuery Plugin -->
        <script src="static/js/jquery.carouFredSel-6.2.1-packed.js" type="text/javascript"> </script>
        <!-- Isotope jQuery Plugin -->
        <script src="static/js/jquery.isotope.js" type="text/javascript"> </script>
        <!-- Appear Plugin -->
        <script src="static/js/appear.js" type="text/javascript"> </script>
        <!-- General Initialization -->
        <script src="static/js/general.js" type="text/javascript"> </script>
    </head>
    <body id="home">
        <script>
            $( function() {
                var availableTags = [
                    {% for airports in airport_list %}
                        "{{airports}}",
                    {% endfor %}
                ];
                $( "#from" ).autocomplete({
                    source: availableTags
                });
                $( "#to" ).autocomplete({
                    source: availableTags
                });
            });

            function validateForm(){
                var availableTags = [
                    {% for airports in airport_list %}
                        "{{airports}}",
                    {% endfor %}
                ];
                var from_val = checkroute.from.value;
                var to_val = checkroute.to.value;
                if(availableTags.indexOf(from_val) == -1 || (from_val==null)){
                    alert("Check the source airport code!");
                    return false;
                }
                if(availableTags.indexOf(to_val) == -1 || (to_val==null)){
                    alert("Check the destination airport code!");
                    return false;
                }
                return true;
            }
        </script>
               <!-- Start of Header --> 
        <header> 
            <div class="row"> 
                <div class="large-4 medium-12 column"> 
                    <div class="logoholder">
                        <a href="#home" class="scroll"><img src="static/images/logo.png" alt="" title=""></a>
                    </div>
                </div>
                <div class="large-8 medium-12 column">
                    <nav> 
                        <ul> 
                            <li><a href="#home" class="scroll">Home</a></li>
                            <li>/</li>
                            <li><a href="#about" class="scroll">About</a></li>
                            <li>/</li>
                            <li><a href="#services" class="scroll">Services</a></li>
                            <li>/</li>
                            <li><a href="#team" class="scroll">Team</a></li>
                            <li>/</li>
                            <li><a href="#contact" class="scroll">Contact</a></li>
                        </ul>
                    </nav>
                </div>  
                <div class="large-12 column">
                    <div class="sep"> </div>
                </div>
            </div>
        </header>

        <!-- Start of About --> 
        <section class="about" id="about">
            <div class="row"> 
                <div class="large-12 large-centered column">
                    <div class="title">
                       <h1>Canadian Weather Stations</h1>
                       <span>...</span>
                    </div>
                    <div class="smallTitle">
                        <form action="/" method="post" onsubmit="return validateForm()" name="checkroute" class="form-control" >
                            {% csrf_token %}
                            <label for="from">From: </label>
                            <input id="from" type="text" name="from">
                            <label for="to">To: </label>
                            <input id="to" type="text" name="to">
                            <input type="submit" value="OK">
                            <div class="imageholder">
                                <img src='data:image/png;base64,{{ graph }}' alt="Canada Map">
                            </div>
                            <div class="imageholder">
                                <img src='data:image/png;base64,{{ graph2 }}' alt="Canada Map">
                            </div>
                        </form>  
                    </div>
                </div>
            </div>
        </section>
       <!-- End of About -->

    </body>
</html>